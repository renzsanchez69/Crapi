<!DOCTYPE html>
<html>
<head>
    <title>CRAPI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/login.css">
    <link href="css/jquery.growl.css" rel="stylesheet" type="text/css" />
</head>
<body id="bg-color">
    <div class="title">
        <h1>CraPi</h1>
    </div>

    <div class="container">
        <form class="login" id="login" action="#">
            <input type="email" placeholder="Email address" name="email" required>
            <input type="password" placeholder="Password" name="password" required>
            <button class="submit" name="login_btn" id="log_form">LOGIN</button> 
            <p class="message">Not registered? <a href="c-reg.html"> Sign up</a></p>
            <p class="regis">Owned a restaurant? <a href="o-reg.html"> SUBSCRIBE HERE!</a></p>
        </form>
    </div>
<script src="lib/jquery.min.js"></script>
<script src="js/jquery.growl.js" type="text/javascript"></script>
<script>
    $('#log_form').click(function(e){
        e.preventDefault();
        var mail = $('input[name="email"]').val();
        if (!validateEmail(mail)) {
             $.growl.error({ message: "Invalid email address!" });
            return false;
        }
        var pw = $('input[name="password"]').val();
        if (!mail) {
            $.growl.error({ message: "Email address must not be empty!" });
            return false;
        }
        if (!pw) {
            $.growl.error({ message: "Password must not be empty!" });
            return false;
        }
        switch(mail) {
            case 'admin@gmail.com':
                if (mail != 'admin@gmail.com' && pw != 'admin123') {
                    $.growl.error({ message: "Invalid username and password!" });
                    return false;
                } 
                window.location.href = 'a-main.html';
            break;
            case 'customer@gmail.com':
                if (mail != 'customer@gmail.com' && pw != 'admin123') {
                    $.growl.error({ message: "Invalid username and password!" });
                    return false;
                } 
                window.location.href = 'c-main.html';
            break;
            case 'employee@gmail.com':
                if (mail != 'employee@gmail.com' && pw != 'admin123') {
                    $.growl.error({ message: "Invalid username and password!" });
                    return false;
                } 
                window.location.href = 'e-main.html';
            break;
            case 'owners@gmail.com':
                if (mail != 'owners@gmail.com' && pw != 'admin123') {
                    $.growl.error({ message: "Invalid username and password!" });
                    return false;
                } 
                window.location.href = 'o-main.html';
            break;
        }
    });

    function validateEmail(email) {
        var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }
</script>
</body>
</html>