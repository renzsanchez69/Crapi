<!DOCTYPE html>
<html>
<head>
    <title>WELCOME</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="js/o-main.js"></script>
    <link rel="stylesheet" type="text/css" href="css/o-main.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="lib/jquery.min.js"></script>
    <script src="lib/bootstrap.min.js"></script>
</head>
<body>

<!-- Top Navigation Menu -->
<div class="topnav" id="myTopnav">
  <a href="o-main.html" class="active">Employee</a>
  <a href="o-menu.html">Food Menu</a>
  <a href="o-sub.html">Subscription</a>
  <a href="o-hist.html">Order History</a>
  <a href="index.html">Logout</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>

<div class="main">
  <br>
  <div class="title">
  <!-- php --><h1>My Restaurants</h1><!-- php -->
  </div>
  <br>

  <div class="left">
    <form action="">
        <input class="search" type="text" placeholder="Search.." name="search">
        <button type="submit"><i class="fa fa-search"></i></button>
    </form>
  </div>
  <div class="right">
    <!-- php --><button class="add" id="myAdd" data-toggle="modal" data-target="#ADDemp">ADD EMPLOYEE</button><!-- php -->
  </div>

  <table class="table table-condensed">
    <thead>
      <tr>
        <th>Full name</th>
        <th>Contact number</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="empListResult">
        <tr class="loader"><td colspan="3"><span class="fa fa-spinner fa-spin"></span> Fetching restaurant list.</td></tr>
    </tbody>

    <!-- data -->
    <tr id="masterEmpRow" class="hidden">
      <th id="empName">Junas Bangayan</th>
      <th id="empContactNo">09771215342</th>
      <th>
        <button id="empEditBtn" name="edit_btn" data-toggle="modal" data-target="#EDITemp"><i class="glyphicon glyphicon-edit"></i></button>
        <button class="empDeleteBtn" name="delete_btn" data-toggle="modal" data-target="#DELemp"><i class="glyphicon glyphicon-trash"></i></button>
      </th>
    </tr>
  </table>

<!--   <div class="t-title">
    <table>
      <tr>
        <th id="custname">Full name</th>
        <th>contact number</th>
        <th>Action</th>
      </tr>
    </table>
  </div>
  <div class="t-cust">
    <table class="table">
      <tr>
        <th id="custname">Junas Bangayan</th>
        <th>09771215342</th>
        <th>
          <button class="editbut" name="edit_btn" data-toggle="modal" data-target="#EDITemp"><i class="glyphicon glyphicon-edit"></i></button>
          <button class="deletebut" name="delete_btn" data-toggle="modal" data-target="#DELemp"><i class="glyphicon glyphicon-trash"></i></button>
        </th>
      </tr>
    </table>
  </div> -->

<!-- Add Modal -->
<div class="modal fade" id="ADDemp" role="dialog">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close" data-dismiss="modal">&times;</span>
      <h2>Employee Registration</h2>
    </div>
    <div class="modal-body">
      <div class="regbox">
        <form class="reg" action="">
          <input type="text" placeholder="Full name" name="name" required>
          <input type="text" placeholder="Address" name="address" required>
          <input type="text" placeholder="Contact number" name="contact" required>
          <input type="email" placeholder="Email address" name="email" required>
          <input type="password" placeholder="Password" name="password" required>
          <button class="submit" name="submit_btn">SUBMIT</button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="EDITemp" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close" data-dismiss="modal">&times;</span>
        <h2>Edit Employee</h2>
      </div>
      <div class="modal-body">
        <div class="regbox">
          <form class="reg" action="">
           <input type="text" placeholder="Full name" name="name" value="Junas Bangayan" required>
           <input type="text" placeholder="Address" name="address" value="Minglanilla, Cebu" required>
           <input type="text" placeholder="Contact number" name="contact" value="09771215342" required>
           <input type="email" placeholder="Email address" name="email" value="junasmarcil@gmail.com" required>
           <input type="password" placeholder="Password" name="password" value="**********" required>
           <button class="save" name="edit_btn">SAVE</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="DELemp" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close" data-dismiss="modal">&times;</span>
        <h2>Delete Employee</h2>
      </div>
      <div class="modal-body">
      <div class="regbox">
        <p>Are you sure you want to delete this account?</p>
        <button class="delete" name="del_btn">DELETE</button>
        <button data-dismiss="modal">NO</button>
      </div>
      </div>
    </div>
  </div>
</div>

</div>

</body>
<script src="common/constants.js"></script>
<script src="common/app.js"></script>
<script>
  $(document).ready(function(){
    
    var empRow = $('#masterEmpRow').clone();
    empRow.removeClass('hidden');

    $('#empListResult').append(empRow);
    console.log(empRow);
    loadRestaurants();
  });

  function loadRestaurants(){
    var search = $('[name="search"]').val();
    CrapiApp.searchResto({
      search: search, 
      owner_id: CrapiApp.config.login_data.user_id
    })
    .then(function(res){

      $('.loader').remove();
      if (res.result === 'OK') {
        for (var key in validation_messages) {
          // skip loop if the property is from prototype
          if (!validation_messages.hasOwnProperty(key)) continue;

          var obj = validation_messages[key];
          for (var prop in obj) {
              // skip loop if the property is from prototype
              if(!obj.hasOwnProperty(prop)) continue;

              // your code
              alert(prop + " = " + obj[prop]);
          }
        }
        var empRow = $('#masterEmpRow').clone();
      }
      console.log(result_data);
    });
  }
</script>
</html>